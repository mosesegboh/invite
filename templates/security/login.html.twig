{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}
<div class="container">
    <form method="post">
        {% if error %}
            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}

        {% if app.user %}
            <div class="mb-3">
                You are logged in as {{ app.user.email }}, <a href="{{ path('app_logout') }}">Logout</a>
            </div>
        {% endif %}

        <div class="card text-center" style="margin-top:200px; !important">
            <h2 class="card-header">Login!</h2>
            <div class="card-body">
            <div class="mb-3">
                <div class="row">
                    <div class="col-6 col-md-3"></div>
                    <div class="col-6 col-md-6"><div class="form-group row">
                        <label for="staticEmail" class="col-sm-2 col-form-label">Email</label>
                        <div class="col-sm-10">
                        <input 
                            type="email" 
                            value="{{ last_username }}" 
                            name="email" 
                            id="inputEmail" 
                            class="form-control" 
                            placeholder="Email"
                            autocomplete="email" 
                            required 
                            autofocus
                        >
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputPassword" class="col-sm-2 col-form-label">Password</label>
                        <div class="col-sm-10">
                        <input 
                            type="password" 
                            name="password" 
                            id="inputPassword" 
                            class="form-control" 
                            autocomplete="current-password" 
                            placeholder="Password"
                            required
                        >
                        </div>

                    <input 
                        type="hidden" 
                        name="_csrf_token"
                        value="{{ csrf_token('authenticate') }}"
                        >
                    </div></div>
                    <div class="col-6 col-md-3"></div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
            </div>
        </div>
    </form>
</div>

{% endblock %}